<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="900" height="600" xmlns="http://www.w3.org/2000/svg">
  <style>
    .title { font: bold 22px sans-serif; fill: #222; }
    .label { font: 15px sans-serif; fill: #222; }
    .box { fill: #f5f5fa; stroke: #444; stroke-width: 2; rx: 10; }
    .domain { fill: #e0f7fa; stroke: #00838f; stroke-width: 2; rx: 10; }
    .agent { fill: #fff3e0; stroke: #ef6c00; stroke-width: 2; rx: 10; }
    .tool { fill: #e8f5e9; stroke: #388e3c; stroke-width: 2; rx: 10; }
    .arrow { stroke: #444; stroke-width: 2; marker-end: url(#arrowhead); }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#444"/>
    </marker>
  </defs>
  <text x="450" y="40" text-anchor="middle" class="title">SymbolicGym Architecture Overview</text>

  <!-- Core Environment -->
  <rect x="370" y="80" width="160" height="60" class="box"/>
  <text x="450" y="115" text-anchor="middle" class="label">Core Environment</text>
  <text x="450" y="135" text-anchor="middle" class="label">(AbstractSymbolicEnv)</text>

  <!-- Domains -->
  <rect x="80" y="180" width="160" height="60" class="domain"/>
  <text x="160" y="210" text-anchor="middle" class="label">SAT Domain</text>
  <rect x="370" y="180" width="160" height="60" class="domain"/>
  <text x="450" y="210" text-anchor="middle" class="label">SymPy Domain</text>
  <rect x="660" y="180" width="160" height="60" class="domain"/>
  <text x="740" y="210" text-anchor="middle" class="label">Z3 Domain</text>

  <!-- Domain Registry -->
  <rect x="370" y="270" width="160" height="50" class="box"/>
  <text x="450" y="300" text-anchor="middle" class="label">Domain Registry</text>

  <!-- Feedback & Representation -->
  <rect x="370" y="350" width="160" height="50" class="box"/>
  <text x="450" y="380" text-anchor="middle" class="label">Symbolic Feedback</text>
  <rect x="370" y="420" width="160" height="50" class="box"/>
  <text x="450" y="450" text-anchor="middle" class="label">Graph/Matrix Representation</text>

  <!-- Agents -->
  <rect x="80" y="500" width="120" height="50" class="agent"/>
  <text x="140" y="530" text-anchor="middle" class="label">DQN/PPO</text>
  <rect x="250" y="500" width="120" height="50" class="agent"/>
  <text x="310" y="530" text-anchor="middle" class="label">GNN/CTDE</text>
  <rect x="420" y="500" width="120" height="50" class="agent"/>
  <text x="480" y="530" text-anchor="middle" class="label">GRPO/MoE</text>
  <rect x="590" y="500" width="120" height="50" class="agent"/>
  <text x="650" y="530" text-anchor="middle" class="label">Imitation</text>

  <!-- Tools -->
  <rect x="760" y="500" width="120" height="50" class="tool"/>
  <text x="820" y="530" text-anchor="middle" class="label">Interpretability</text>
  <rect x="760" y="420" width="120" height="50" class="tool"/>
  <text x="820" y="450" text-anchor="middle" class="label">Visualization</text>

  <!-- Arrows: Core Env to Domains -->
  <line x1="450" y1="140" x2="160" y2="180" class="arrow"/>
  <line x1="450" y1="140" x2="450" y2="180" class="arrow"/>
  <line x1="450" y1="140" x2="740" y2="180" class="arrow"/>

  <!-- Domains to Registry -->
  <line x1="160" y1="240" x2="450" y2="270" class="arrow"/>
  <line x1="450" y1="240" x2="450" y2="270" class="arrow"/>
  <line x1="740" y1="240" x2="450" y2="270" class="arrow"/>

  <!-- Registry to Feedback -->
  <line x1="450" y1="320" x2="450" y2="350" class="arrow"/>
  <!-- Feedback to Representation -->
  <line x1="450" y1="400" x2="450" y2="420" class="arrow"/>

  <!-- Representation to Agents -->
  <line x1="450" y1="470" x2="140" y2="500" class="arrow"/>
  <line x1="450" y1="470" x2="310" y2="500" class="arrow"/>
  <line x1="450" y1="470" x2="480" y2="500" class="arrow"/>
  <line x1="450" y1="470" x2="650" y2="500" class="arrow"/>

  <!-- Representation to Visualization/Interpretability -->
  <line x1="530" y1="445" x2="760" y2="445" class="arrow"/>
  <line x1="650" y1="470" x2="820" y2="500" class="arrow"/>

  <!-- Tools to Agents (dashed for feedback loop) -->
  <line x1="820" y1="470" x2="650" y2="500" class="arrow" stroke-dasharray="6,4"/>

</svg>
